<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ZXS</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  :root { --accent: #333; }

  * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Inter", sans-serif; }
  html, body { height: 100%; width: 100%; overflow: hidden; }
  header { background: var(--accent); display: flex; justify-content: space-between; align-items: center; padding: 12px 24px; border-bottom: 1px solid #444; }
  .logo { display: flex; align-items: center; gap: 10px; font-size: 1.5em; font-weight: 600; letter-spacing: 1px; cursor: pointer; color: #fff; -webkit-text-stroke: 1px black; text-shadow: 1px 1px 0 #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000; }
  .logo img { width: 30px; height: 30px; border-radius: 50%; }
  .dropdown { position: relative; }
  .dropdown-btn { background: none; border: none; color: white; font-size: 1.2em; cursor: pointer; display: flex; align-items: center; gap: 8px; }
  .dropdown-menu { position: absolute; top: 110%; right: 0; background: #2a2a2a; border-radius: 10px; overflow: hidden; display: none; flex-direction: column; min-width: 180px; box-shadow: 0 4px 20px rgba(0,0,0,0.4); z-index: 1000; }
  .dropdown-menu.active { display: flex; animation: fadeIn 0.2s ease-in-out; }
  .dropdown-menu button { background: none; border: none; text-align: left; padding: 12px 16px; color: white; font-size: 1em; display: flex; align-items: center; gap: 10px; transition: background 0.2s ease; cursor: pointer; }
  .dropdown-menu button:hover { background: #444; }
  @keyframes fadeIn { from {opacity:0; transform: translateY(-5px);} to {opacity:1; transform:translateY(0);} }
  #content { flex: 1; overflow: hidden; position: relative; height: calc(100% - 60px); }

  #home { height: 100%; width: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; gap: 20px; background: url('/assets/images/maintheme.png') no-repeat center center; background-size: cover; }
  #home * { color: #fff; -webkit-text-stroke: 1px black; text-shadow: 1px 1px 0 #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000; }
  #home h1 { font-size: 2.8em; font-weight: 600; }
  #splash { font-size: 1.2em; opacity: 0.8; margin-top: -10px; }
  #home .buttons { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; margin-top: 20px; }
  #home .buttons button { background: var(--accent); border: none; padding: 12px 24px; border-radius: 10px; font-size: 1.1em; cursor: pointer; transition: all 0.2s ease; }
  #home .buttons button:hover { background: #555; transform: scale(1.05); }
  #info { position: absolute; bottom: 20px; text-align: center; font-size: 1em; opacity: 0.8; }
</style>
</head>
<body>
<header>
  <div class="logo" id="homeBtn"><img src="/assets/images/logo.png" alt="ZXS Logo"><span>ZXS</span></div>
  <div class="dropdown">
    <button class="dropdown-btn"><i class="fa-solid fa-bars"></i> Menu</button>
    <div class="dropdown-menu" id="menu">
      <button data-page="home"><i class="fa-solid fa-house"></i> Home</button>
      <button data-page="games"><i class="fa-solid fa-gamepad"></i> Games</button>
      <button data-page="linkgen"><i class="fa-solid fa-link"></i> Link Generator</button>
      <button data-page="partners"><i class="fa-solid fa-handshake"></i> Partners</button>
      <button data-page="vm"><i class="fa-solid fa-server"></i> VMs</button>
      <button data-page="settings"><i class="fa-solid fa-gear"></i> Settings</button>
    </div>
  </div>
</header>

<main id="content">
  <div id="home">
    <h1>Welcome to ZXS</h1>
    <div id="splash">Loading splash...</div>
    <div class="buttons">
      <button data-page="games"><i class="fa-solid fa-gamepad"></i> Games</button>
      <button data-page="linkgen"><i class="fa-solid fa-link"></i> Link Generator</button>
      <button data-page="partners"><i class="fa-solid fa-handshake"></i> Partners</button>
      <button data-page="vm"><i class="fa-solid fa-server"></i> VMs</button>
      <button data-page="settings"><i class="fa-solid fa-gear"></i> Settings</button>
    </div>
    <div id="info"><span id="battery">Battery: --%</span> | <span id="time">--:--</span></div>
  </div>
</main>

<script>
const content = document.getElementById('content');
const menu = document.getElementById('menu');
const dropdownBtn = document.querySelector('.dropdown-btn');
const homeBtn = document.getElementById('homeBtn');

// Splash messages
const splashes = ["Now THIS is elegance","also try petezah g^mes","yo: gurt | gurt: syfm","Death to my enemies"];
function randomSplash() { const splash = splashes[Math.floor(Math.random()*splashes.length)]; const splashEl = document.getElementById("splash"); if(splashEl) splashEl.textContent = splash; }

// Load page
function loadPage(page) {
  if(page==="home") { 
    randomSplash(); initButtons(); initInfo();
  } else { 
    content.innerHTML = `<iframe src="/${page}/" style="width:100%;height:100%;border:none;"></iframe>`;
  }
}

// Dropdown
dropdownBtn.addEventListener('click', e => { e.stopPropagation(); menu.classList.toggle('active'); });
document.addEventListener('click', e => { if(!menu.contains(e.target)) menu.classList.remove('active'); });
menu.querySelectorAll('button[data-page]').forEach(btn => { btn.addEventListener('click',()=>{ loadPage(btn.dataset.page); menu.classList.remove('active'); }); });

// Home buttons
function initButtons() { content.querySelectorAll('[data-page]').forEach(btn=>btn.addEventListener('click',()=>loadPage(btn.dataset.page))); }

// Battery and time
function initInfo(){
  const batterySpan=document.getElementById('battery'); const timeSpan=document.getElementById('time');
  if(navigator.getBattery) navigator.getBattery().then(b=>{ const update=()=>batterySpan.textContent=`Battery: ${Math.round(b.level*100)}%`; update(); b.addEventListener('levelchange',update); }); else batterySpan.textContent="Battery: N/A";
  setInterval(()=>{ const now=new Date(); timeSpan.textContent=`${now.getHours().toString().padStart(2,"0")}:${now.getMinutes().toString().padStart(2,"0")}`; },1000);
}

homeBtn.addEventListener('click',()=>loadPage("home"));

// Initial load
randomSplash(); initButtons(); initInfo();

// === Themes ===
const themes = {
  main: '/assets/images/maintheme.png',
  space: '/assets/images/space.png',
  hacker: '/assets/images/hacker.png',
  miku: '/assets/images/miku.png',
  teto: '/assets/images/teto.png',
  neru: '/assets/images/neru.png'
};

function setTheme(name){
  const home=document.getElementById('home');
  if(home && themes[name]){
    home.style.background = `url('${themes[name]}') no-repeat center center`;
    home.style.backgroundSize = 'cover';
  }
}

// Example usage: change theme via event from settings
document.addEventListener('themeChange', e=>setTheme(e.detail.theme));

// Test: change to "space" theme after 5 seconds
setTimeout(()=>{ document.dispatchEvent(new CustomEvent('themeChange',{detail:{theme:'space'}})); },5000);
</script>
</body>
</html>
